<!--pages/sub_newsSearch/pages/search/search.wxml-->
<view class='background'>
  <!-- 搜索框 -->
  <view class='index_search'>
    <view class='index_service'>
      <button open-type='contact' class='index_service_button'></button>
      <image class='index_service_img' src='/image/index_service.png' />
      <text>客服</text>
    </view>
    <view class='index_search_input' bindtap='jumpToSearch'>
      <image src='/image/index_search.png'></image>
      <input class='index_search_input'></input>
    </view>
    <view class='index_service'>
      <image class='index_service_img' src='/image/index_history.png' />
      <text>历史</text>
    </view>
  </view>

  <!-- 搜索类型 -->
  <view class='searchClassify'>
    <view bindtap='changeSearchTitle' data-searchtitle='0' class='{{searchTitleItem == 0?"classifyHover":"classify"}}'>产品</view>
    <view bindtap='changeSearchTitle' data-searchtitle='1' class='{{searchTitleItem == 1?"classifyHover":"classify"}}'>案例</view>
    <view bindtap='changeSearchTitle' data-searchtitle='2' class='{{searchTitleItem == 2?"classifyHover":"classify"}}'>需求</view>
  </view>

  <!-- 历史纪录 -->
  <view class='history'>
    <view class='historyTitleBox'>
      <text>历史搜索</text>
      <image src='/image/history_delete.png'></image>
    </view>
    <view class='historyList'>
      <block wx:for='{{historyList}}' wx:key='key'>
        <view class='historyItem'>{{item}}</view>
      </block>
    </view>
  </view>

  <!-- 搜索结果 -->
  <view>
    <!-- 产品 -->
    <view wx:if='{{searchTitleItem == 0}}' class='productList'>
      <block wx:for='{{productList}}' wx:key='key'>
        <v-product productItem='{{item}}' />
      </block>
    </view>

    <!-- 案例 -->
    <view wx:if='{{searchTitleItem == 1}}' class='productList'>
      <block wx:for='{{caseList}}' wx:key='key'>
        <v-case caseItem='{{item}}' />
      </block>
    </view>

    <!-- 需求 -->
    <view wx:if='{{searchTitleItem == 2}}' class='productList'>
      <block wx:for='{{demandList}}' wx:key='key'>
        <v-demand demandItem='{{item}}' />
      </block>
    </view>
  </view>
</view>